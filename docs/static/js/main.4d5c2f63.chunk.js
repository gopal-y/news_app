(this.webpackJsonpnews_app=this.webpackJsonpnews_app||[]).push([[0],{16:function(e,t,c){},18:function(e,t,c){},20:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c(10),r=c.n(s),a=(c(16),c(8)),j=c.n(a),i=c(9),b=c(11),l=c(4),h=(c(18),c(2)),u=c(5);var o=c(1);function O(e){var t=e.publishers,c=Object(n.useState)(0),s=Object(l.a)(c,2),r=s[0],a=s[1],j=Object(n.useState)([]),i=Object(l.a)(j,2),b=i[0],u=i[1],O=Math.min(30,t.length),d=parseInt(t.length/O);return d%O!==0&&d>1&&d++,Object(n.useEffect)((function(){u(t.slice(r*O,(r+1)*O))}),[r,t,O]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("center",{children:Object(o.jsx)("h1",{children:"Welcome to News App. Please select a channel"})}),Object(o.jsx)(x,{publishers:b}),Object(o.jsxs)("button",{className:"scroll prev",onClick:function(){a(Math.max(r-1,0))},children:[" ","<"," "]}),Object(o.jsxs)("button",{className:"scroll next",onClick:function(){a(Math.min(r+1,d-1))},children:[" ",">"]}),Object(o.jsx)(h.a,{})]})}function d(e){var t=e.news,c=Object(h.h)().publisher,n=t.filter((function(e){return e.PUBLISHER===decodeURI(c)})).sort((function(e,t){return t.TIMESTAMP.getTime()-e.TIMESTAMP.getTime()}));return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(u.b,{to:"/",className:"back",children:"\ud83e\udc98 Back"}),0===n.length&&Object(o.jsx)("p",{children:"There is no such Publisher or no news published by the specified publisher. Please check the publisher or try again later."}),n.length>0&&Object(o.jsxs)("div",{className:"table-container",children:[Object(o.jsx)("center",{children:Object(o.jsxs)("h1",{children:["News Published by: ",c]})}),Object(o.jsxs)("table",{children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Headline"}),Object(o.jsx)("th",{children:"Host"}),Object(o.jsx)("th",{children:"Source"}),Object(o.jsx)("th",{children:"Published On"})]})}),Object(o.jsx)("tbody",{children:n.map((function(e,t){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e.TITLE}),Object(o.jsx)("td",{children:e.HOSTNAME}),Object(o.jsx)("td",{children:Object(o.jsx)("a",{href:e.URL,children:e.URL})}),Object(o.jsx)("td",{children:"".concat(e.TIMESTAMP.getDate(),"/").concat(e.TIMESTAMP.getMonth(),"/").concat(e.TIMESTAMP.getFullYear())})]},t)}))})]})]})]})}function x(e){var t=e.publishers;return Object(o.jsx)("div",{className:"button-container",children:t.map((function(e,t){return Object(o.jsx)(u.b,{className:"news-button",to:encodeURI(e),children:e},t)}))})}var p=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)([]),a=Object(l.a)(r,2),u=a[0],x=a[1],p=function(){var e=Object(b.a)(j.a.mark((function e(){var t,c,n,r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://s3-ap-southeast-1.amazonaws.com/he-public-data/newsf6e2440.json");case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,n=c.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{TIMESTAMP:(t=e.TIMESTAMP,new Date(parseInt(t)))});var t})),r=new Set(n.map((function(e){return e.PUBLISHER}))),a=Array.from(r),x(a.sort()),s(n),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){p()}),[]),Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(h.d,{children:[Object(o.jsx)(h.b,{exact:!0,path:"/",element:Object(o.jsx)(O,{publishers:u})}),Object(o.jsx)(h.b,{path:":publisher",element:Object(o.jsx)(d,{news:c})})]})})};r.a.render(Object(o.jsx)(u.a,{children:Object(o.jsx)(p,{})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.4d5c2f63.chunk.js.map